@{
    Layout = "";
}
@using Nop.Web.Framework
@model Nop.Plugin.Payments.Qualpay.Models.PaymentInfoModel

<table width="100%" cellspacing="2" cellpadding="1" border="0">
    <tr>
        <td width="100px">
            @Html.LabelFor(model => model.UseStoredCard, false):
        </td>
        <td>
            @Html.EditorFor(model => model.UseStoredCard)
            @Html.ValidationMessageFor(model => model.UseStoredCard)
        </td>
    </tr>
</table>

<script>
    $(document).ready(function() {
        $("#@Html.FieldIdFor(model => model.UseStoredCard)").change(toggleUseStoredCard);
        toggleUseStoredCard();
    });

    function toggleUseStoredCard() {
        if ($('#@Html.FieldIdFor(model => model.UseStoredCard)').is(':checked')) {
            $('#qualpay-card-details').hide();
        } else {
            $('#qualpay-card-details').show();
        }
    }
</script>

<table width="100%" cellspacing="2" cellpadding="1" border="0" id="qualpay-card-details">
    <tr>
        <td>
            @Html.LabelFor(model => model.CardholderName, false):
        </td>
        <td>
            @Html.TextBoxFor(model => model.CardholderName, new { style = "Width: 165px;", autocomplete = "off" })
            @Html.ValidationMessageFor(model => model.CardholderName)
        </td>
    </tr>
    <tr>
        <td>
            @Html.LabelFor(model => model.CardNumber, false):
        </td>
        <td>
            @Html.TextBoxFor(model => model.CardNumber, new { style = "Width: 165px;", autocomplete = "off", maxlength = 22 })
            @Html.ValidationMessageFor(model => model.CardNumber)
        </td>
    </tr>
    <tr>
        <td>
            @Html.LabelFor(model => model.ExpireMonth, false):
        </td>
        <td>
            @Html.DropDownListFor(model => model.ExpireMonth, Model.ExpireMonths)
            /
            @Html.DropDownListFor(model => model.ExpireYear, Model.ExpireYears)
        </td>
    </tr>
    <tr>
        <td>
            @Html.LabelFor(model => model.CardCode, false):
        </td>
        <td>
            @Html.TextBoxFor(model => model.CardCode, new { style = "Width: 60px;", autocomplete = "off", maxlength = 4 })
            @Html.ValidationMessageFor(model => model.CardCode)
        </td>
    </tr>
    <tr>
        <td width="100px">
            @Html.LabelFor(model => model.SaveCardDetails, false):
        </td>
        <td>
            @Html.EditorFor(model => model.SaveCardDetails)
            @Html.ValidationMessageFor(model => model.SaveCardDetails)
        </td>
    </tr>
</table>
